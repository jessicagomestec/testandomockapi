<!DOCTYPE html>
<html lang="pt-br">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Página de Login</title>
	<link rel="stylesheet" href="../css/login.css">
</head>
<body>
	<div class="login-container">
		<h2>Login</h2>
		<form>
			<label for="name">Nome:</label>
			<input type="text" id="name" name="name" required>
			<label for="senha">Senha:</label>
			<input type="password" id="senha" name="senha" required autocomplete="current-password">
			<button type="submit">Entrar</button>
		</form>
		<div id="usuario-info" style="margin-top:20px;"></div>
	</div>
<script type="module">
import { buscarUsuario } from '../api/buscarUsuario.js';

const form = document.querySelector('form');
const usuarioInfo = document.getElementById('usuario-info');

form.addEventListener('submit', async (e) => {
    e.preventDefault();
    const name = document.getElementById('name').value;
    const senha = document.getElementById('senha').value;
    usuarioInfo.textContent = 'Buscando usuário...';
    const usuario = await buscarUsuario(name, senha);
    if (usuario) {
        usuarioInfo.textContent = `Usuário encontrado: ${usuario.name}`;
    } else {
        usuarioInfo.textContent = 'Usuário não encontrado ou senha incorreta.';
    }
});
</script>
</body>
</html>
